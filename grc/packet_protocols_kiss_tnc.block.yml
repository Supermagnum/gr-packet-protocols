id: packet_protocols_kiss_tnc
label: KISS TNC
category: '[Packet Protocols]'
flags: [python, cpp]

parameters:
-   id: device
    label: Device
    dtype: string
    default: '/dev/ttyUSB0'
-   id: baud_rate
    label: Baud Rate
    dtype: int
    default: '9600'
-   id: hardware_flow_control
    label: Hardware Flow Control
    dtype: bool
    default: 'False'
-   id: ptt_enabled
    label: Enable PTT Control
    dtype: bool
    default: 'False'
-   id: ptt_use_dtr
    label: Use DTR for PTT
    dtype: bool
    default: 'False'
    hide: ${ 'part' if ptt_enabled else 'all' }

inputs:
-   domain: stream
    dtype: byte

outputs:
-   domain: stream
    dtype: byte

message_ports:
-   id: negotiation_out
    label: Negotiation Out
    direction: output
    optional: 'True'

templates:
    imports: |-
        from gnuradio import packet_protocols
    make: |-
        packet_protocols.kiss_tnc(${device}, ${baud_rate}, ${hardware_flow_control})

file_format: 1
